{"componentChunkName":"component---src-templates-blog-post-index-tsx","path":"/react/4/","result":{"data":{"site":{"siteMetadata":{"siteUrl":"https://gywlsp.github.io"}},"markdownRemark":{"id":"5215f166-098f-542c-b076-20298ab6ae1e","excerpt":"Key는 React 컴포넌트나 엘리먼트 리스트를 만들 때 포함해야 하는 특수한 문자열 어트리뷰트이다. Key는 React가 어떤 항목을 변경, 추가 또는 삭제할지 식별하는 것을 돕는다. 배열 내부의 엘리먼트나 컴포넌트에 안정적인 고유성을 부여하기 위해 key를 지정해야 한다. Key…","html":"<p><strong>Key</strong>는 React 컴포넌트나 엘리먼트 리스트를 만들 때 포함해야 하는 특수한 문자열 어트리뷰트이다. Key는 React가 어떤 항목을 변경, 추가 또는 삭제할지 <strong>식별</strong>하는 것을 돕는다. 배열 내부의 엘리먼트나 컴포넌트에 안정적인 고유성을 부여하기 위해 key를 지정해야 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> numbers <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> listItems <span class=\"token operator\">=</span> numbers<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>number<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>number<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Key를 선택하는 가장 좋은 방법은 <strong>리스트의 다른 항목들 사이에서 해당 항목을 고유하게 식별할 수 있는 문자열</strong>을 사용하는 것이다. 대부분의 경우 데이터의 ID를 key로 사용한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> todoItems <span class=\"token operator\">=</span> todos<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">todo</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>todo<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>todo<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>렌더링한 항목에 대한 고유한 값이 없다면 최후의 수단으로 항목의 인덱스를 key로 사용할 수 있다. 그리고 리스트 항목에 명시적으로 key를 지정하지 않으면 React는 기본적으로 인덱스를 key로 사용한다. 그러나 항목의 순서가 바뀔 수 있는 경우, 인덱스를 key로 사용하는 것은 권장되지 않는다. 이로 인해 성능이 저하되거나 컴포넌트의 state와 관련된 문제가 발생할 수 있다.</p>\n<p>React는 key를 통해 기존 DOM 트리와 이후 트리의 자식들이 일치하는지 확인한다. React는 key를 기반으로 컴포넌트 인스턴스를 갱신하고 재사용한다. 인덱스를 key로 사용하면, 항목의 순서가 바뀌었을 때 key 또한 바뀔 것이다. 그 결과로, 컴포넌트의 state가 엉망이 되거나 의도하지 않은 방식대로 바뀔 수도 있다.</p>\n<p>그래서 <strong>key는 반드시 유일하고, 변하지 않으며 예상 가능해야</strong> 한다. 이때 key는 리스트 항목들 사이에서만 고유한 값이면 된다. 만약 변하는 key(Math.random()으로 생성된 값 등)를 사용하면 많은 컴포넌트 인스턴스와 DOM 노드를 불필요하게 재생성하여 성능이 나빠지거나 컴포넌트의 state가 유실될 수 있어 주의해야 한다.</p>\n<p><strong>참고 자료</strong></p>\n<ul>\n<li><a href=\"https://ko.reactjs.org/docs/lists-and-keys.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://ko.reactjs.org/docs/lists-and-keys.html</a></li>\n<li><a href=\"https://ko.reactjs.org/docs/reconciliation.html#keys\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://ko.reactjs.org/docs/reconciliation.html#keys</a></li>\n</ul>","fields":{"slug":"/react/4/"},"tableOfContents":"","frontmatter":{"title":"왜 React 컴포넌트/엘리먼트 리스트 항목에 적절한 key를 부여해야 할까?","date":"2022-04-05T12:44:11+00:00","description":"이 글은 React 컴포넌트/엘리먼트 리스트에서 key의 역할에 대해 설명한다.","tags":["React"],"thumbnail":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA70lEQVQoz2NQUNb6jxcraWJn48AMhAyTV9X9r6Cg/l9BUR3CJmAoA17D1HT/SwfE/ZcKTQFjaf84sBg+Q7EaKK+i/V9BVvm/rKXLf4m0yv/iha3/xQtagOyK/7IWzmA5sBqiXQj0opye+X+psDSwYSIdC8AYxJYKS/0vp2sGCQaiDVTU+C+vYfBfKijxv3hR+3+xmkn/xaongtkgMXl1faC3NUgJQ6B35FT+y+lb/peMyQUbBMKS0TlAMQuwHHmRoqLzX9or4r+MS+B/GddAIDscEnakRgpKugN6X0FeDYJBbLKTDVqs44pVsgwkBQMAy7BHkFMBPlQAAAAASUVORK5CYII=","aspectRatio":1.7751479289940828,"src":"/static/f76b8509137436aa4367eddaf9b497e6/f3583/thumbnail.png","srcSet":"/static/f76b8509137436aa4367eddaf9b497e6/630fb/thumbnail.png 300w,\n/static/f76b8509137436aa4367eddaf9b497e6/2a4de/thumbnail.png 600w,\n/static/f76b8509137436aa4367eddaf9b497e6/f3583/thumbnail.png 1200w,\n/static/f76b8509137436aa4367eddaf9b497e6/bbee5/thumbnail.png 1800w,\n/static/f76b8509137436aa4367eddaf9b497e6/eeb1b/thumbnail.png 1920w","sizes":"(max-width: 1200px) 100vw, 1200px"}}}}}},"pageContext":{"slug":"/react/4/","previous":{"fields":{"slug":"/web/2/"},"frontmatter":{"title":"HTTP, HTTPS의 차이와 SSL/TLS"}},"next":{"fields":{"slug":"/javascript/7/"},"frontmatter":{"title":"JavaScript 프로토타입 알아보기"}}}},"staticQueryHashes":["3000541721","3274528899","3384690500"]}