{"componentChunkName":"component---src-templates-blog-post-index-tsx","path":"/react/3/","result":{"data":{"site":{"siteMetadata":{"siteUrl":"https://gywlsp.github.io"}},"markdownRemark":{"id":"c66d40a8-8542-534e-b930-80fe93163eaf","excerpt":"이 글은 React의 대표적인 hook useState, useEffect에 대해 설명한다. Hook이란? Hook은 함수 컴포넌트에서 React state와 생명주기 기능(lifecycle features)를 연동(hook into)할 수 있게 해주는 함수이다. Hook은 class…","html":"<blockquote>\n<p><strong>이 글은 React의 대표적인 hook useState, useEffect에 대해 설명한다.</strong></p>\n</blockquote>\n<h1 id=\"hook이란\" style=\"position:relative;\">Hook이란?<a href=\"#hook%EC%9D%B4%EB%9E%80\" aria-label=\"hook이란 permalink\" class=\"anchor-header after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<p>Hook은 <strong><u>함수 컴포넌트에서 React state와 생명주기 기능(lifecycle features)를 연동(hook into)할 수 있게 해주는 함수</u></strong>이다. Hook은 class 안에서는 동작하지 않는다.</p>\n<p>React는 <code class=\"language-text\">useState</code>, <code class=\"language-text\">useEffect</code>같은 내장 Hook을 몇 가지 제공한다.</p>\n<h1 id=\"usestate---state-hook\" style=\"position:relative;\">useState - state hook<a href=\"#usestate---state-hook\" aria-label=\"usestate   state hook permalink\" class=\"anchor-header after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<p><strong><code class=\"language-text\">useState</code> hook을 이용하면 <u>함수 컴포넌트 내에서 state를 사용</u>할 수 있다.</strong> 과거에 함수 컴포넌트는 stateless했지만, <code class=\"language-text\">useState</code>가 등장한 이후 함수 컴포넌트 안에서도 React state를 사용할 수 있게 되었다.</p>\n<p><strong>사용 예시</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">Example</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> setCount<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">You clicked </span><span class=\"token punctuation\">{</span>count<span class=\"token punctuation\">}</span><span class=\"token plain-text\"> times</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setCount</span><span class=\"token punctuation\">(</span>count <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Click me</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h1 id=\"useeffect---effect-hook\" style=\"position:relative;\">useEffect - effect hook<a href=\"#useeffect---effect-hook\" aria-label=\"useeffect   effect hook permalink\" class=\"anchor-header after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<p><strong><code class=\"language-text\">useEffect</code> hook을 이용하여 우리는 <u>함수 컴포넌트에게 렌더링 직후에 어떤 일을 수행해야 할지 알려줄 수 있다</u>.</strong> React는 우리가 넘긴 함수(=<strong><u>effect</u></strong>)를 기억했다가 DOM 업데이트를 수행한 이후에 불러낸다.</p>\n<p><strong>사용 예시</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useState<span class=\"token punctuation\">,</span> useEffect <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">Example</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> setCount<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    document<span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">You clicked </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>count<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> times</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">You clicked </span><span class=\"token punctuation\">{</span>count<span class=\"token punctuation\">}</span><span class=\"token plain-text\"> times</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setCount</span><span class=\"token punctuation\">(</span>count <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Click me</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">useEffect</code>를 사용하면 함수 컴포넌트 안에서 렌더링 이후에 다양한 <strong><u>side effect</u></strong>를 수행할 수 있다. Side effect에는 데이터 가져오기, 구독(subscription) 설정하기, 수동으로 React 컴포넌트의 DOM을 수정하기 등이 있다.</p>\n<h2 id=\"effect-정리clean-up\" style=\"position:relative;\">effect 정리(Clean-up)<a href=\"#effect-%EC%A0%95%EB%A6%ACclean-up\" aria-label=\"effect 정리clean up permalink\" class=\"anchor-header after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>네트워크 리퀘스트, DOM 수동 조작, 로깅 등은 따로 정리(Clean-up)가 필요 없다. 그러나 정리가 필요한 경우도 있는데, 외부 데이터에 구독을 설정해야 하는 경우가 이에 해당한다. 이 경우에는 메모리 누수가 발생하지 않도록 effect를 정리하는 것이 매우 중요하다.</p>\n<p><strong><u>effect 정리가 필요한 경우</u></strong>에는 다음과 같이 <strong><u>정리 함수를 반환</u></strong>하면 된다. React는 <strong>컴포넌트가 마운트 해제되고 제거되기 직전에 정리를 실행</strong>한다. 하지만 effect는 모든 렌더링에서 실행되기 때문에 <strong>다음 차례의 effect를 실행하기 전에도 이전 렌더링에서 파생된 effect를 정리</strong>한다.</p>\n<p><strong>사용 예시</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">function</span> <span class=\"token function\">handleStatusChange</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">status</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setIsOnline</span><span class=\"token punctuation\">(</span>status<span class=\"token punctuation\">.</span>isOnline<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  ChatAPI<span class=\"token punctuation\">.</span><span class=\"token function\">subscribeToFriendStatus</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">.</span>friend<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> handleStatusChange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    ChatAPI<span class=\"token punctuation\">.</span><span class=\"token function\">unsubscribeFromFriendStatus</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">.</span>friend<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> handleStatusChange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"effect-수행-시기\" style=\"position:relative;\">effect 수행 시기<a href=\"#effect-%EC%88%98%ED%96%89-%EC%8B%9C%EA%B8%B0\" aria-label=\"effect 수행 시기 permalink\" class=\"anchor-header after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p><strong><code class=\"language-text\">useEffect</code> hook을 이용하여 우리는 <u>함수 컴포넌트 내에서 생명주기 기능을 사용</u>할 수 있다.</strong> <code class=\"language-text\">useEffect</code>의 등장 이후 클래스의 생명주기 메서드 중 <code class=\"language-text\">componentDidMount</code>, <code class=\"language-text\">componentDidUpdate</code>, <code class=\"language-text\">componentWillUnmount</code>의 기능을 함수 컴포넌트에서도 구현할 수 있게 되었다.</p>\n<ul>\n<li><code class=\"language-text\">componentDidMount</code>: 마운트(첫 번째 렌더링) 직후에 effect 실행</li>\n<li><code class=\"language-text\">componentDidUpdate</code>: 리렌더 직후에 effect 실행</li>\n<li><code class=\"language-text\">componentWillUnmount</code>: 마운트 해제되어 제거되기 직전에 effect 정리</li>\n</ul>\n<p><strong><code class=\"language-text\">useEffect</code>에 주어진 effect는 기본적으로 모든 렌더링(마운팅, 리렌더링) 직후에 실행</strong>된다. 그리고 <strong>정리 함수가 있을 때에는 정리가 다음 렌더링 직전과 언마운트 후 컴포넌트가 제거되기 직전에 수행된다.</strong></p>\n<p>그러나 모든 렌더링 이후에 effect를 정리하거나 적용하는 것이 때때로 성능 저하를 발생시킬 수 있다. 이런 경우에는 <strong><code class=\"language-text\">useEffect</code>의 두 번째 인자로 적절한 값을 주어 effect의 수행, 정리 시기를 조절</strong>할 수 있다.</p>\n<ul>\n<li>\n<p>effect를 실행하고 정리(clean-up)하는 과정을 <strong>마운트와 마운트 해제 시에 한 번씩만 실행하고 싶은 경우</strong></p>\n<p>→ 두 번째 인자로 <code class=\"language-text\">[]</code> 전달</p>\n<p><strong>예시</strong></p>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  document<span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> <span class=\"token string\">'hi'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>\n<p>effect를 실행하고 정리(clean-up)하는 과정을 <strong>마운트와 마운트 해제 시, 그리고 리렌더링 후 특정 변수(들)의 값이 바뀐 경우에만 실행하고 싶은 경우</strong></p>\n<p>→ 두 번째 인자로 <strong>배열에 원하는 변수(들)</strong> 넣어 전달</p>\n<p><strong>예시</strong></p>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  document<span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">You clicked </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>count<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> times</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>이 최적화 방법을 사용한다면 배열이 컴포넌트 범위 내에서 바뀌는 값들과 effect에 의해 사용되는 값들을 모두 포함해야 한다. 그렇지 않으면 현재 값이 아니라 이전 렌더링 때의 값을 참고하게 된다.</p>\n<h2 id=\"생명주기-메서드-vs-useeffect\" style=\"position:relative;\">생명주기 메서드 vs useEffect<a href=\"#%EC%83%9D%EB%AA%85%EC%A3%BC%EA%B8%B0-%EB%A9%94%EC%84%9C%EB%93%9C-vs-useeffect\" aria-label=\"생명주기 메서드 vs useeffect permalink\" class=\"anchor-header after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>class의 생명 주기 메서드를 이용하면 각 생명주기 메서드에 자주 관련 없는 로직이 섞여들어가곤 한다. 예시로 <code class=\"language-text\">componentDidMount</code> 와 <code class=\"language-text\">componentDidUpdate</code>는 컴포넌트안에서 데이터를 가져오는 작업을 수행할 때 사용 되어야 하지만, 같은 <code class=\"language-text\">componentDidMount</code>에 이벤트 리스너를 설정하는 것과 같은 관계없는 로직이 포함되기도 하며, <code class=\"language-text\">componentWillUnmount</code>에서 cleanup 로직을 수행하기도 한다. 이때 함께 변경되는 상호 관련 코드는 분리되지만 이와 연관 없는 코드들은 단일 메서드로 결합된다. 이로 인해 버그가 쉽게 발생하고 무결성을 너무나 쉽게 해치게 된다.</p>\n<p>위와 같은 예시에서, 상태 관련 로직은 한 공간안에 묶여 있기 때문에 이런 컴포넌트들을 작게 분리하는 것은 불가능하며 테스트하기도 어렵다. 이 때문에 많은 사용자들은 React를 별도의 상태 관리 라이브러리와 함께 결합해서 사용해왔다. 그러나, 이런 상태 관리 라이브러리는 종종 너무 많은 추상화를 하고, 서로 다른 파일들 사이에서 건너뛰기를 요구하며 컴포넌트 재사용을 더욱더 어렵게 만들었다.</p>\n<p>이같은 문제를 해결하기위해, 컴포넌트를 생명주기 메서드를 기반으로 쪼개기보다는, <strong>Hook을 이용하며 컴포넌트를 비슷한 기능이 묶여있는 작은 함수로 나누는 게 좋다.</strong></p>\n<p>*React 공식 문서를 바탕으로 작성한 글입니다.</p>","fields":{"slug":"/react/3/"},"tableOfContents":"<ul>\n<li><a href=\"/react/3/#hook%EC%9D%B4%EB%9E%80\">Hook이란?</a></li>\n<li><a href=\"/react/3/#usestate---state-hook\">useState - state hook</a></li>\n<li>\n<p><a href=\"/react/3/#useeffect---effect-hook\">useEffect - effect hook</a></p>\n<ul>\n<li><a href=\"/react/3/#effect-%EC%A0%95%EB%A6%ACclean-up\">effect 정리(Clean-up)</a></li>\n<li><a href=\"/react/3/#effect-%EC%88%98%ED%96%89-%EC%8B%9C%EA%B8%B0\">effect 수행 시기</a></li>\n<li><a href=\"/react/3/#%EC%83%9D%EB%AA%85%EC%A3%BC%EA%B8%B0-%EB%A9%94%EC%84%9C%EB%93%9C-vs-useeffect\">생명주기 메서드 vs useEffect</a></li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"React hooks(1) - useState, useEffect","date":"2021-05-08T13:09:47+00:00","description":"이 글은 React의 대표적인 hook useState, useEffect에 대해 설명한다.","tags":["React"],"thumbnail":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA70lEQVQoz2NQUNb6jxcraWJn48AMhAyTV9X9r6Cg/l9BUR3CJmAoA17D1HT/SwfE/ZcKTQFjaf84sBg+Q7EaKK+i/V9BVvm/rKXLf4m0yv/iha3/xQtagOyK/7IWzmA5sBqiXQj0opye+X+psDSwYSIdC8AYxJYKS/0vp2sGCQaiDVTU+C+vYfBfKijxv3hR+3+xmkn/xaongtkgMXl1faC3NUgJQ6B35FT+y+lb/peMyQUbBMKS0TlAMQuwHHmRoqLzX9or4r+MS+B/GddAIDscEnakRgpKugN6X0FeDYJBbLKTDVqs44pVsgwkBQMAy7BHkFMBPlQAAAAASUVORK5CYII=","aspectRatio":1.7751479289940828,"src":"/static/f76b8509137436aa4367eddaf9b497e6/f3583/thumbnail.png","srcSet":"/static/f76b8509137436aa4367eddaf9b497e6/630fb/thumbnail.png 300w,\n/static/f76b8509137436aa4367eddaf9b497e6/2a4de/thumbnail.png 600w,\n/static/f76b8509137436aa4367eddaf9b497e6/f3583/thumbnail.png 1200w,\n/static/f76b8509137436aa4367eddaf9b497e6/bbee5/thumbnail.png 1800w,\n/static/f76b8509137436aa4367eddaf9b497e6/eeb1b/thumbnail.png 1920w","sizes":"(max-width: 1200px) 100vw, 1200px"}}}}}},"pageContext":{"slug":"/react/3/","previous":{"fields":{"slug":"/web/1/"},"frontmatter":{"title":"HTTP 응답 상태 코드 정리"}},"next":{"fields":{"slug":"/boj/1715/"},"frontmatter":{"title":"백준 1715번 카드 정렬하기 - node.js"}}}},"staticQueryHashes":["3000541721","3274528899","3384690500"]}