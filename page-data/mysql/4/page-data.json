{"componentChunkName":"component---src-templates-blog-post-index-tsx","path":"/mysql/4/","result":{"data":{"site":{"siteMetadata":{"siteUrl":"https://gywlsp.github.io"}},"markdownRemark":{"id":"5e4e2962-557b-5e23-a5c2-b0bacd1e6047","excerpt":"이 글은 MySQL에서 group by와 having…","html":"<blockquote>\n<p>이 글은 MySQL에서 group by와 having으로 데이터를 그룹화하여 조회하는 방법에 대해 설명한다.</p>\n</blockquote>\n<p>테이블의 컬럼에서 유형별로 데이터의 개수를 알아내고 싶다면 어떻게 해야 할까? <code class=\"language-text\">count()</code>로 데이터를 조회하려고 하면, 전체 데이터의 개수만 조회할 수 있어 유형별 데이터의 개수를 알아낼 수 없다. 이렇게 <strong><u>특정 컬럼에서 유형별로 레코드의 개수를 알고 싶을 때에는 <code class=\"language-text\">group by</code> 명령어를 이용해 특정 컬럼을 기준으로 데이터를 그룹화</u></strong>할 수 있다. group by 명령어로 데이터를 그룹화하면, <strong><u>집계 함수</u>(max, min, sum, count, avg…)<u>를 사용하기에 용이</u></strong>해진다.</p>\n<p>다음과 같은 표가 있다고 가정하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> Blackpink <span class=\"token punctuation\">(</span>\n id       <span class=\"token keyword\">INT</span> <span class=\"token keyword\">AUTO_INCREMENT</span><span class=\"token punctuation\">,</span>\n name     <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n age      <span class=\"token keyword\">INT</span><span class=\"token punctuation\">,</span>\n <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> Blackpink<span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> age<span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'Jennie'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">26</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> Blackpink<span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> age<span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'Jisoo'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">27</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> Blackpink<span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> age<span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'Rose'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">25</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> Blackpink<span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> age<span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'Lisa'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">25</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> Blackpink<span class=\"token punctuation\">;</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 453px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/eab1b69ece1e6c531f434c30882c1c62/2108e/mysql_4_1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.567567567567565%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA8ElEQVQoz22SyQqAMAxE+//f58WbqOAK7vsSeYVILRYGYzJZJq0ZhkG2bZN1XS3atpW6rmWe59fnAm7XddI0zSdPYUg+jsP+7PsucRxLEAQyTdNvAtw0TSUMQ8t3Y8uyiLnvW67rejGOo1RVZYN+DODr+94W4Lix8zzF0BFDgZyyLK1kJbnAR0EU+HEmNgR0XCQWRSFRFP3uTzkooDE2vo9knEwJ6ACRi8FWn37VZkIU+H5qGUblsBsOl5QkiZXj+l2bhijz4+QYlaE3Cpkp/Rt0nw1PhufmclS+3SGG7iLPc8my7CX4gMMOKap7U7CGBwvkvLp1OdGsAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"mysql_4_1\"\n        title=\"mysql_4_1\"\n        src=\"/static/eab1b69ece1e6c531f434c30882c1c62/2108e/mysql_4_1.png\"\n        srcset=\"/static/eab1b69ece1e6c531f434c30882c1c62/12f09/mysql_4_1.png 148w,\n/static/eab1b69ece1e6c531f434c30882c1c62/e4a3f/mysql_4_1.png 295w,\n/static/eab1b69ece1e6c531f434c30882c1c62/2108e/mysql_4_1.png 453w\"\n        sizes=\"(max-width: 453px) 100vw, 453px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>만약 멤버들의 <strong>나이 종류와 나이별 멤버 수를 출력</strong>하고 싶다면, 명령어를 다음과 같이 입력하면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token comment\">-- group by (그룹화할 컬럼 이름)</span>\n<span class=\"token keyword\">select</span> age<span class=\"token punctuation\">,</span> <span class=\"token function\">count</span><span class=\"token punctuation\">(</span>age<span class=\"token punctuation\">)</span> <span class=\"token keyword\">from</span> Blackpink <span class=\"token keyword\">group</span> <span class=\"token keyword\">by</span> age<span class=\"token punctuation\">;</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 466px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/17681dbec758f2c1c6d4b27b626f2694/fc1a1/mysql_4_2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 33.78378378378378%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAn0lEQVQoz5WR2QrDIBBF/f+v81XwLUiQIHkQTVynXGGCpaRNBw7ILHcWhbWWUkp0nufFcRzknKN1XWlZFtr3nXLObzl3CK31hyAwxpBSiqSUQ7iUMhr9FIwxEqz3PoChGMHZOMZ5dwjvPdVahwiDidEIazJz/Bti27YhgHV4pRACoRHf8x8EiltrY0qAN3/A7H/KdUMUA9yB18ab/U95ASTzI1dtc73AAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"mysql_4_2\"\n        title=\"mysql_4_2\"\n        src=\"/static/17681dbec758f2c1c6d4b27b626f2694/fc1a1/mysql_4_2.png\"\n        srcset=\"/static/17681dbec758f2c1c6d4b27b626f2694/12f09/mysql_4_2.png 148w,\n/static/17681dbec758f2c1c6d4b27b626f2694/e4a3f/mysql_4_2.png 295w,\n/static/17681dbec758f2c1c6d4b27b626f2694/fc1a1/mysql_4_2.png 466w\"\n        sizes=\"(max-width: 466px) 100vw, 466px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>위의 그림에서 확인할 수 있듯이, <code class=\"language-text\">group by</code>는 <code class=\"language-text\">distinct</code>와 다르게 특정 컬럼을 기준으로 데이터를 그룹화한 후 <strong>정렬하여 결과를 내보낸다</strong>. 두 명령어는 <strong>컬럼의 unique한 레코드 값과 관련</strong>되어 유사하다고 생각할 수 있지만, <code class=\"language-text\">distinct</code>는 <strong>특정 컬럼의 unique한 레코드 값의 개수</strong>를 구할 때 유용하고, <code class=\"language-text\">group by</code>는 <strong>특정 컬럼의 unique한 레코드별로 데이터를 그룹화한 후 집계함수를 사용하기에 적합</strong>하다.</p>\n<p><code class=\"language-text\">group by</code><strong>를 이용해 <u>데이터를 그룹화한 결과에 조건을 걸고 싶을 땐</strong> <code class=\"language-text\">having</code><strong>을 이용</u></strong>하면 된다. <code class=\"language-text\">where</code>과 <code class=\"language-text\">having</code>은 둘 다 <strong>조건을 거는 명령어</strong>지만, <code class=\"language-text\">where</code>은 <code class=\"language-text\">group by</code> <strong>이전</strong>에 실행되고 <code class=\"language-text\">having</code>은 <code class=\"language-text\">group by</code> <strong>이후</strong>에 실행된다는 점에서 차이가 있다. <code class=\"language-text\">where</code>은 컬럼을 기준으로 데이터를 그룹화하기 전의 결과에 조건을 걸고 <code class=\"language-text\">having</code>은 그룹화된 결과에 조건을 건다.</p>\n<p>만약 멤버들의 <strong>나이 종류와 나이별 멤버 수를 나이별 멤버 수가 1보다 큰 레코드들만 출력</strong>하고 싶다면, 명령어를 다음과 같이 입력하면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">select</span> age<span class=\"token punctuation\">,</span> <span class=\"token function\">count</span><span class=\"token punctuation\">(</span>age<span class=\"token punctuation\">)</span> <span class=\"token keyword\">from</span> Blackpink <span class=\"token keyword\">group</span> <span class=\"token keyword\">by</span> age <span class=\"token keyword\">having</span> <span class=\"token function\">count</span><span class=\"token punctuation\">(</span>age<span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 465px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f7553aec4e5ece62b95478258d1bab58/9ff85/mysql_4_3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 16.89189189189189%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAZklEQVQI132OuwpAIQxD/f/vE5wcXBwUQQQfVTGXFryjgbMkIa3y3sM5hzkneu8CEaGUAmsttNYwxog/xnjCHZVSArP3llFmrYVaq/gxRoQQ/uwFP6JyzrLMOucIrNaaHLm62Qvuf5y56SMcUiTkAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"mysql_4_3\"\n        title=\"mysql_4_3\"\n        src=\"/static/f7553aec4e5ece62b95478258d1bab58/9ff85/mysql_4_3.png\"\n        srcset=\"/static/f7553aec4e5ece62b95478258d1bab58/12f09/mysql_4_3.png 148w,\n/static/f7553aec4e5ece62b95478258d1bab58/e4a3f/mysql_4_3.png 295w,\n/static/f7553aec4e5ece62b95478258d1bab58/9ff85/mysql_4_3.png 465w\"\n        sizes=\"(max-width: 465px) 100vw, 465px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>","fields":{"slug":"/mysql/4/"},"tableOfContents":"","frontmatter":{"title":"MySQL group by와 having으로 데이터를 그룹화하여 조회하기","date":"2021-03-14T13:53:44+00:00","description":"이 글은 MySQL에서 group by와 having으로 데이터를 그룹화하여 조회하는 방법에 대해 설명한다.","tags":["MySQL"],"thumbnail":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABiklEQVQoz42SW2/TQBCF8+8rJB77CBJvPKAipKhVEBJRmwBtAefSjYmdm7CrBBLnYjvFqe31x8amrRMZ6Eij0e7MHJ0zMyUeYUmSFL73/7dW+lth3rfmBRvMyZzgNvwnaOl/bOSfd6SC8dOjP3WJ4jhXWwC4z2YTxSzWAY7/K6sKXWTgYI+HOMs5+sTNKWGndwcwljL9vF54PD254KD8gYqwMJtlwvYh/ucn3IjnrP0FiYzv+2QesGiwoZI09W8ZuwEnwsaezRRth2jVJ3JHJKGfCpUF40oZ1ps93n7qcKoZnDXMLOsNwOmoaIA/UrFHrdHDup7AUoe5cqeJNTQ4qjbRut8fJM9XaxqGxfsvXc40k6vBGFNvsJraXLW/IjqCviE4vWzRtyYK5Bu6LugKldN1THvG0rvJAKXMJFs/FhzX23xsD3hd1Xj5TlNSPZ6Vz3lxfEHlvEtFqbjsjKi1RryqtnhTE9RbQzZhdH8RKcM70L2J8FhLipZyt638xvLnlM9tCaS+c25Z/A1n/0qGbVfQigAAAABJRU5ErkJggg==","aspectRatio":1.7751479289940828,"src":"/static/58fccb740a599096e4e93249f309fe84/f3583/mysql_4.png","srcSet":"/static/58fccb740a599096e4e93249f309fe84/630fb/mysql_4.png 300w,\n/static/58fccb740a599096e4e93249f309fe84/2a4de/mysql_4.png 600w,\n/static/58fccb740a599096e4e93249f309fe84/f3583/mysql_4.png 1200w,\n/static/58fccb740a599096e4e93249f309fe84/bbee5/mysql_4.png 1800w,\n/static/58fccb740a599096e4e93249f309fe84/22196/mysql_4.png 1870w","sizes":"(max-width: 1200px) 100vw, 1200px"}}}}}},"pageContext":{"slug":"/mysql/4/","previous":{"fields":{"slug":"/programmers/mysql/2/"},"frontmatter":{"title":"프로그래머스 SQL 고득점 KIT - SUM, MAX, MIN"}},"next":{"fields":{"slug":"/programmers/mysql/3/"},"frontmatter":{"title":"프로그래머스 SQL 고득점 KIT - GROUP BY"}}}},"staticQueryHashes":["3000541721","3274528899","3384690500"]}